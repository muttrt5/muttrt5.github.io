
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>📡 Live Crash Feed</title>
    <style>
        body {
            background-color: #111;
            color: #0f0;
            font-family: monospace;
            padding: 20px;
            direction: rtl;
        }
        .header {
            color: cyan;
            font-size: 1.5em;
        }
        .box {
            border: 1px solid #0f0;
            padding: 10px;
            margin-top: 20px;
            background: #000;
        }
        .msg {
            color: #fff;
            background-color: #222;
            padding: 5px;
            margin: 5px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="header">📡 بيانات Live Crash</div>
    <div id="status">🔄 جاري الاتصال بالسيرفر...</div>
    <div class="box" id="messages">📥 لا توجد بيانات بعد</div>

    <script>
        const status = document.getElementById('status');
        const messages = document.getElementById('messages');

        const socket = new WebSocket("wss://k0bygyosi8.com/games-frame/sockets/crash?whence=22&country=66");

        socket.onopen = () => {
            status.textContent = '✅ تم الاتصال بالسيرفر بنجاح';
            socket.send(JSON.stringify({ type: "ping" }));  // ✅ ping تلقائي
        };

        socket.onmessage = (event) => {
            const msg = document.createElement('div');
            msg.className = 'msg';
            msg.textContent = event.data;
            messages.appendChild(msg);
        };

        socket.onerror = () => {
            status.textContent = '❌ خطأ في الاتصال بالسيرفر';
        };

        socket.onclose = () => {
            status.textContent = '🔴 الاتصال مغلق';
        };
    </script>
</body>
</html>
